import React, { createContext, useContext, useState, ReactNode, useEffect } from 'react';

export type Language = 'hindi' | 'english';

interface LanguageContextType {
  language: Language;
  setLanguage: (lang: Language) => void;
  t: (key: string) => string;
}

const LanguageContext = createContext<LanguageContextType | undefined>(undefined);

// Translation data
const translations = {
  hindi: {
    // Header
    'header.agrisathi': 'AgriSathi',
    'header.language.hindi': 'рд╣рд┐рдВ',
    'header.language.english': 'EN',
    
    // Navigation
    'nav.home': 'рд╣реЛрдо',
    'nav.scan': 'рд╕реНрдХреИрди',
    'nav.community': 'рд╕рдореБрджрд╛рдп',
    'nav.chat': 'рдЪреИрдЯ',
    'nav.profile': 'рдкреНрд░реЛрдлрд╛рдЗрд▓',
    
    // Dashboard
    'dashboard.welcome': 'рд╕реНрд╡рд╛рдЧрдд рд╣реИ, рдХрд┐рд╕рд╛рди рднрд╛рдИ!',
    'dashboard.subtitle': 'рдЖрдзреБрдирд┐рдХ рддрдХрдиреАрдХ рдХреЗ рд╕рд╛рде рдмреЗрд╣рддрд░ рдЦреЗрддреА',
    'dashboard.quickActions': 'рддреНрд╡рд░рд┐рдд рдХрд╛рд░реНрдп',
    'dashboard.weather': 'рдЖрдЬ рдХрд╛ рдореМрд╕рдо',
    'dashboard.cropRecommendations': 'рдлрд╕рд▓ рд╕реБрдЭрд╛рд╡',
    
    // Quick Actions
    'quickActions.scanCrop': 'рдлрд╕рд▓ рд╕реНрдХреИрди рдХрд░реЗрдВ',
    'quickActions.scanDescription': 'рдмреАрдорд╛рд░реА рдХреА рдкрд╣рдЪрд╛рди',
    'quickActions.voiceAsk': 'рдЖрд╡рд╛рдЬ рдореЗрдВ рдкреВрдЫреЗрдВ',
    'quickActions.voiceDescription': 'рд╕реНрд╡рд░рдмрджреНрдз рд╕рд╣рд╛рдпрдХ',
    'quickActions.expertChat': 'рд╡рд┐рд╢реЗрд╖рдЬреНрдЮ рдЪреИрдЯ',
    'quickActions.expertDescription': 'рддреБрд░рдВрдд рд╕рд▓рд╛рд╣ рдкрд╛рдПрдВ',
    'quickActions.weather': 'рдореМрд╕рдо рдЬрд╛рдирдХрд╛рд░реА',
    'quickActions.weatherDescription': 'рдЖрдЬ рдХрд╛ рдкреВрд░реНрд╡рд╛рдиреБрдорд╛рди',
    'quickActions.agriCreds': 'AgriCreds',
    'quickActions.earnMore': 'рд╕рдореБрджрд╛рдп рдореЗрдВ рдпреЛрдЧрджрд╛рди рдХрд░рдХреЗ рдФрд░ рдЕрдзрд┐рдХ рдХрдорд╛рдПрдВ!',
    
    // Weather
    'weather.today': 'рдЖрдЬ рдХрд╛ рдореМрд╕рдо',
    'weather.humidity': 'рдирдореА',
    'weather.wind': 'рд╣рд╡рд╛',
    'weather.uvIndex': 'UV Index',
    'weather.rainChance': 'рдмрд╛рд░рд┐рд╢ рдХреА рд╕рдВрднрд╛рд╡рдирд╛',
    
    // Crop Recommendations
    'crops.recommendations': 'рдлрд╕рд▓ рд╕реБрдЭрд╛рд╡',
    'crops.season': 'рд╕реАрдЬрди',
    'crops.profitability': 'рд▓рд╛рдн',
    'crops.high': 'рдЙрдЪреНрдЪ',
    'crops.medium': 'рдордзреНрдпрдо',
    'crops.low': 'рдХрдо',
    'crops.yield': 'рдЙрддреНрдкрд╛рджрди',
    'crops.sowing': 'рдмреБрдЖрдИ',
    'crops.marketRate': 'рдмрд╛рдЬрд╛рд░ рджрд░',
    'crops.viewDetails': 'рд╡рд┐рд╕реНрддрд╛рд░ рджреЗрдЦреЗрдВ',
    'crops.alerts': 'рдЪреЗрддрд╛рд╡рдиреА',
    
    // Crops
    'crops.tomato': 'рдЯрдорд╛рдЯрд░',
    'crops.wheat': 'рдЧреЗрд╣реВрдВ',
    'crops.season.rabi': 'рд░рдмреА',
    'crops.season.kharif': 'рдЦрд░реАрдл',
    'crops.profitability.high': 'рдЙрдЪреНрдЪ',
    'crops.profitability.medium': 'рдордзреНрдпрдо',
    'crops.profitability.low': 'рдХрдо',
    'crops.yield.ton_per_hectare': 'рдЯрди/рд╣реЗрдХреНрдЯреЗрдпрд░',
    'crops.yield.qtl_per_hectare': 'рдХреНрд╡рд┐рдВрдЯрд▓/рд╣реЗрдХреНрдЯреЗрдпрд░',
    'crops.market_unit.kg': 'рдХрд┐рдЧреНрд░рд╛',
    'crops.market_unit.qtl': 'рдХреНрд╡рд┐рдВрдЯрд▓',
    'crops.sowing.oct_nov': 'рдЕрдХреНрдЯреВрдмрд░-рдирд╡рдВрдмрд░',
    'crops.sowing.nov_dec': 'рдирд╡рдВрдмрд░-рджрд┐рд╕рдВрдмрд░',
    // Alerts
    'alerts.tomato_pest': 'ЁЯРЫ рдЯрдорд╛рдЯрд░ рдореЗрдВ рдХреАрдЯ рдкреНрд░рдХреЛрдк рдХреА рдЪреЗрддрд╛рд╡рдиреА - рддреБрд░рдВрдд рдЙрдкрдЪрд╛рд░ рдХрд░реЗрдВ',
    'alerts.irrigation_needed': 'ЁЯТз рд╕рд┐рдВрдЪрд╛рдИ рдХреА рдЬрд░реВрд░рдд - рдорд┐рдЯреНрдЯреА рдХреА рдирдореА рдХрдо рд╣реИ',
    
    // Disease Detection
    'disease.title': 'рдлрд╕рд▓ рд╕реНрдХреИрди рдХрд░реЗрдВ',
    'disease.uploadPhoto': 'рдлрд╕рд▓ рдХреА рдлреЛрдЯреЛ рдЕрдкрд▓реЛрдб рдХрд░реЗрдВ',
    'disease.uploadDescription': 'рдкрддреНрддрд┐рдпреЛрдВ, рдлреВрд▓реЛрдВ рдпрд╛ рдлрд▓реЛрдВ рдХреА рд╕реНрдкрд╖реНрдЯ рддрд╕реНрд╡реАрд░ рд▓реЗрдВ',
    'disease.gallery': 'рдЧреИрд▓рд░реА рд╕реЗ рдЪреБрдиреЗрдВ',
    'disease.camera': 'рдХреИрдорд░рд╛ рдЦреЛрд▓реЗрдВ',
    'disease.uploadedPhoto': 'рдЕрдкрд▓реЛрдб рдХреА рдЧрдИ рдлреЛрдЯреЛ',
    'disease.startAnalysis': 'AI рд╡рд┐рд╢реНрд▓реЗрд╖рдг рд╢реБрд░реВ рдХрд░реЗрдВ',
    'disease.analyzing': 'AI рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдЪрд▓ рд░рд╣рд╛ рд╣реИ...',
    'disease.pleaseWait': 'рдХреГрдкрдпрд╛ рдкреНрд░рддреАрдХреНрд╖рд╛ рдХрд░реЗрдВ',
    'disease.confidence': 'рдЖрддреНрдорд╡рд┐рд╢реНрд╡рд╛рд╕',
    'disease.severity': 'рдЧрдВрднреАрд░рддрд╛',
    'disease.immediateActions': 'рддреБрд░рдВрдд рдХрд░рдиреЗ рдпреЛрдЧреНрдп рдЙрдкрд╛рдп',
    'disease.futurePrevention': 'рднрд╡рд┐рд╖реНрдп рдореЗрдВ рдмрдЪрд╛рд╡',
    'disease.contactExpert': 'рд╡рд┐рд╢реЗрд╖рдЬреНрдЮ рд╕реЗ рд╕рдВрдкрд░реНрдХ рдХрд░реЗрдВ',
    'disease.buyMedicine': 'рджрд╡рд╛рдИ рдЦрд░реАрджреЗрдВ',
    'disease.tips': 'рдмреЗрд╣рддрд░ рдкрд░рд┐рдгрд╛рдо рдХреЗ рд▓рд┐рдП рдЯрд┐рдкреНрд╕',
    'disease.tip1': 'рдкреНрд░рд╛рдХреГрддрд┐рдХ рд░реЛрд╢рдиреА рдореЗрдВ рдлреЛрдЯреЛ рд▓реЗрдВ',
    'disease.tip2': 'рдкрддреНрддреА рдХреЛ рдкрд╛рд╕ рд╕реЗ рдлреЛрдХрд╕ рдХрд░реЗрдВ',
    'disease.tip3': 'рд╕рд╛рдлрд╝ рдФрд░ рд╕реНрдкрд╖реНрдЯ рддрд╕реНрд╡реАрд░ рд▓реЗрдВ',
    'disease.tip4': 'рдПрдХ рд╕реЗ рдЕрдзрд┐рдХ рдХреЛрдг рд╕реЗ рдлреЛрдЯреЛ рд▓реЗрдВ',
    
    // Chat
    'chat.title': 'AI рдЪреИрдЯ рд╕рд╣рд╛рдпрдХ',
    'chat.expertBanner': 'рд╡рд┐рд╢реЗрд╖рдЬреНрдЮ рд╕рд▓рд╛рд╣ рдЪрд╛рд╣рд┐рдП?',
    'chat.expertSubtitle': 'рдкреНрд░рдорд╛рдгрд┐рдд рдХреГрд╖рд┐ рд╡рд┐рд╢реЗрд╖рдЬреНрдЮреЛрдВ рд╕реЗ рдмрд╛рдд рдХрд░реЗрдВ',
    'chat.call': 'рдХреЙрд▓ рдХрд░реЗрдВ',
    'chat.availableExperts': 'рдЙрдкрд▓рдмреНрдз рд╡рд┐рд╢реЗрд╖рдЬреНрдЮ',
    'chat.chat': 'рдЪреИрдЯ',
    'chat.nextAvailable': 'рдЕрдЧрд▓реА рдмрд╛рд░',
    'chat.voiceListening': 'рд╕реБрди рд░рд╣рд╛ рд╣реВрдВ...',
    'chat.speakQuestion': 'рдЕрдкрдирд╛ рд╕рд╡рд╛рд▓ рдмреЛрд▓реЗрдВ',
    'chat.writeQuestion': 'рдЕрдкрдирд╛ рд╕рд╡рд╛рд▓ рд▓рд┐рдЦреЗрдВ...',
    'chat.commonQuestions': 'рдЖрдо рд╕рд╡рд╛рд▓',
    'chat.weatherInfo': 'рдореМрд╕рдо рдХреА рдЬрд╛рдирдХрд╛рд░реА',
    'chat.fertilizerAmount': 'рдЦрд╛рдж рдХреА рдорд╛рддреНрд░рд╛',
    'chat.seedTreatment': 'рдмреАрдЬ рдЙрдкрдЪрд╛рд░',
    'chat.irrigationTime': 'рд╕рд┐рдВрдЪрд╛рдИ рдХрд╛ рд╕рдордп',
    'chat.placeholder': 'рдЕрдкрдирд╛ рд╕рдВрджреЗрд╢ рд▓рд┐рдЦреЗрдВ...',
    'chat.typing': 'рдЯрд╛рдЗрдк рдХрд░ рд░рд╣рд╛ рд╣реИ...',
    'chat.clear': 'рд╕рд╛рдлрд╝ рдХрд░реЗрдВ',
    'chat.cleared': 'рдЪреИрдЯ рд╕рд╛рдлрд╝ рдХреА рдЧрдИ',
    'chat.startNewConversation': 'рдирдИ рдмрд╛рддрдЪреАрдд рд╢реБрд░реВ рдХрд░реЗрдВ',
    'chat.responseReceived': 'рдЬрд╡рд╛рдм рдорд┐рд▓рд╛',
    'chat.usingRealData': 'рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдХреГрд╖рд┐ рдбреЗрдЯрд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ',
    'chat.usingMockData': 'рдореЙрдХ рдбреЗрдЯрд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ',
    'chat.apiError': 'API рддреНрд░реБрдЯрд┐',
    'chat.error': 'рдЬрд╡рд╛рдм рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдореЗрдВ рд╡рд┐рдлрд▓',
    
    // Community
    'community.title': 'рд╕рдореБрджрд╛рдп рдордВрдЪ',
    'community.searchPosts': 'рдкреЛрд╕реНрдЯ рдЦреЛрдЬреЗрдВ...',
    'community.post': 'рдкреЛрд╕реНрдЯ',
    'community.newPost': 'рдирдИ рдкреЛрд╕реНрдЯ рд▓рд┐рдЦреЗрдВ',
    'community.category': 'рд╢реНрд░реЗрдгреА',
    'community.writeQuestion': 'рдЕрдкрдирд╛ рд╕рд╡рд╛рд▓ рдпрд╛ рд╕реБрдЭрд╛рд╡ рд▓рд┐рдЦреЗрдВ...',
    'community.addPhoto': 'рдлреЛрдЯреЛ рдЬреЛрдбрд╝реЗрдВ',
    'community.postNow': 'рдкреЛрд╕реНрдЯ рдХрд░реЗрдВ',
    'community.share': 'рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ',
    'community.problem': 'рд╕рдорд╕реНрдпрд╛',
    'community.tips': 'рдЯрд┐рдкреНрд╕',
    'community.experience': 'рдЕрдиреБрднрд╡',
    'community.market': 'рдмрд╛рдЬрд╛рд░',
    
    // Community categories
    'community.category.problem': 'рд╕рдорд╕реНрдпрд╛',
    'community.category.tips': 'рдЯрд┐рдкреНрд╕',
    'community.category.experience': 'рдЕрдиреБрднрд╡',
    'community.category.market': 'рдмрд╛рдЬрд╛рд░',
    
    // Profile
    'profile.title': 'рдореЗрд░реА рдкреНрд░реЛрдлрд╛рдЗрд▓',
    'profile.farmingInfo': 'рдЦреЗрддреА рдХреА рдЬрд╛рдирдХрд╛рд░реА',
    'profile.landSize': 'рднреВрдорд┐ рдХрд╛ рдЖрдХрд╛рд░',
    'profile.experience': 'рдЕрдиреБрднрд╡',
    'profile.memberSince': 'рд╕рджрд╕реНрдп рдмрдиреЗ',
    'profile.language': 'рднрд╛рд╖рд╛',
    'profile.mainCrops': 'рдореБрдЦреНрдп рдлрд╕рд▓реЗрдВ',
    'profile.activityStats': 'рдЧрддрд┐рд╡рд┐рдзрд┐ рд╕рд╛рдВрдЦреНрдпрд┐рдХреА',
    'profile.postsShared': 'рдкреЛрд╕реНрдЯ рд╕рд╛рдЭрд╛ рдХреА',
    'profile.helpfulAnswers': 'рд╕рд╣рд╛рдпрдХ рдЙрддреНрддрд░',
    'profile.questionsAsked': 'рдкреНрд░рд╢реНрди рдкреВрдЫреЗ',
    'profile.creditsEarned': 'Credits рдХрдорд╛рдП',
    'profile.achievements': 'рдЙрдкрд▓рдмреНрдзрд┐рдпрд╛рдВ',
    'profile.settings': 'рд╕реЗрдЯрд┐рдВрдЧреНрд╕',
    'profile.changeLanguage': 'рднрд╛рд╖рд╛ рдмрджрд▓реЗрдВ',
    'profile.redeemCredits': 'AgriCreds рд░рд┐рдбреАрдо рдХрд░реЗрдВ',
    'profile.insufficientCredits': 'рдЕрдкрд░реНрдпрд╛рдкреНрдд рдХреНрд░реЗрдбрд┐рдЯ',
    'profile.need50Credits': 'рд╡рд┐рд╢реЗрд╖рдЬреНрдЮреЛрдВ рд╕реЗ рдмрд╛рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрдо рд╕реЗ рдХрдо 50 AgriCreds рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ',
    'profile.expertChatStarted': 'рд╡рд┐рд╢реЗрд╖рдЬреНрдЮ рдЪреИрдЯ рд╢реБрд░реВ',
    'profile.redirectingToExpert': 'рд╡рд┐рд╢реЗрд╖рдЬреНрдЮ рдкрд░рд╛рдорд░реНрд╢ рдХреЗ рд▓рд┐рдП рдкреБрдирд░реНрдирд┐рд░реНрджреЗрд╢рд┐рдд рдХрд░ рд░рд╣рд╛ рд╣реИ...',
    'profile.credits': 'рдХреНрд░реЗрдбрд┐рдЯ',
    'profile.noAchievements': 'рдЕрднреА рддрдХ рдХреЛрдИ рдЙрдкрд▓рдмреНрдзрд┐ рдирд╣реАрдВ',
    'profile.keepParticipating': 'рдЙрдкрд▓рдмреНрдзрд┐рдпрд╛рдВ рдХрдорд╛рдиреЗ рдХреЗ рд▓рд┐рдП рднрд╛рдЧ рд▓реЗрддреЗ рд░рд╣реЗрдВ!',
    
    // Expert Consultation
    'expert.title': 'рд╡рд┐рд╢реЗрд╖рдЬреНрдЮ рдкрд░рд╛рдорд░реНрд╢',
    'expert.availableExperts': 'рдЙрдкрд▓рдмреНрдз рд╡рд┐рд╢реЗрд╖рдЬреНрдЮ',
    'expert.selectExpert': 'рдкрд░рд╛рдорд░реНрд╢ рд╢реБрд░реВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╡рд┐рд╢реЗрд╖рдЬреНрдЮ рдЪреБрдиреЗрдВ (рд╕рддреНрд░ рдХреЗ рд▓рд┐рдП 50 AgriCreds)',
    'expert.online': 'рдСрдирд▓рд╛рдЗрди',
    'expert.offline': 'рдСрдлрд▓рд╛рдЗрди',
    'expert.connect': 'рдХрдиреЗрдХреНрдЯ рдХрд░реЗрдВ',
    'expert.connecting': 'рдХрдиреЗрдХреНрдЯ рд╣реЛ рд░рд╣рд╛ рд╣реИ...',
    'expert.connected': 'рдХрдиреЗрдХреНрдЯ рд╣реЛ рдЧрдпрд╛',
    'expert.sessionStarted': 'рд╡рд┐рд╢реЗрд╖рдЬреНрдЮ рдкрд░рд╛рдорд░реНрд╢ рд╕рддреНрд░ рд╢реБрд░реВ рд╣реЛ рдЧрдпрд╛',
    'expert.connectionFailed': 'рдХрдиреЗрдХреНрд╢рди рд╡рд┐рдлрд▓',
    'expert.tryAgain': 'рдХреГрдкрдпрд╛ рдкреБрдирдГ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдВ',
    'expert.disconnect': 'рдбрд┐рд╕реНрдХрдиреЗрдХреНрдЯ рдХрд░реЗрдВ',
    'expert.disconnected': 'рдбрд┐рд╕реНрдХрдиреЗрдХреНрдЯ рд╣реЛ рдЧрдпрд╛',
    'expert.sessionEnded': 'рд╡рд┐рд╢реЗрд╖рдЬреНрдЮ рдкрд░рд╛рдорд░реНрд╢ рд╕рддреНрд░ рд╕рдорд╛рдкреНрдд рд╣реЛ рдЧрдпрд╛',
    'expert.sessionTime': 'рд╕рддреНрд░',
    'expert.typing': 'рд╡рд┐рд╢реЗрд╖рдЬреНрдЮ рдЯрд╛рдЗрдк рдХрд░ рд░рд╣рд╛ рд╣реИ...',
    'expert.typeMessage': 'рдЕрдкрдирд╛ рд╕рдВрджреЗрд╢ рд▓рд┐рдЦреЗрдВ...',
    'expert.loginRequired': 'рд▓реЙрдЧрд┐рди рдЖрд╡рд╢реНрдпрдХ',
    'expert.pleaseLogin': 'рд╡рд┐рд╢реЗрд╖рдЬреНрдЮреЛрдВ рд╕реЗ рдмрд╛рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреГрдкрдпрд╛ рд▓реЙрдЧрд┐рди рдХрд░реЗрдВ',
    
    // Common
    'common.now': 'рдЕрднреА',
    'common.view': 'рджреЗрдЦреЗрдВ',
    'common.edit': 'рд╕рдВрдкрд╛рджрд┐рдд рдХрд░реЗрдВ',
    'common.delete': 'рд╣рдЯрд╛рдПрдВ',
    'common.save': 'рд╕рд╣реЗрдЬреЗрдВ',
    'common.cancel': 'рд░рджреНрдж рдХрд░реЗрдВ',
    'common.ok': 'рдареАрдХ рд╣реИ',
    'common.yes': 'рд╣рд╛рдБ',
    'common.no': 'рдирд╣реАрдВ',
    'common.loading': 'рд▓реЛрдб рд╣реЛ рд░рд╣рд╛ рд╣реИ...',
    'common.error': 'рддреНрд░реБрдЯрд┐',
    'common.success': 'рд╕рдлрд▓',
    'common.warning': 'рдЪреЗрддрд╛рд╡рдиреА',
    'common.info': 'рдЬрд╛рдирдХрд╛рд░реА',
  },
  english: {
    // Header
    'header.agrisathi': 'AgriSathi',
    'header.language.hindi': 'рд╣рд┐рдВ',
    'header.language.english': 'EN',
    
    // Navigation
    'nav.home': 'Home',
    'nav.scan': 'Scan',
    'nav.community': 'Community',
    'nav.chat': 'Chat',
    'nav.profile': 'Profile',
    
    // Dashboard
    'dashboard.welcome': 'Welcome, Farmer Brother!',
    'dashboard.subtitle': 'Better farming with modern technology',
    'dashboard.quickActions': 'Quick Actions',
    'dashboard.weather': "Today's Weather",
    'dashboard.cropRecommendations': 'Crop Recommendations',
    
    // Quick Actions
    'quickActions.scanCrop': 'Scan Crop',
    'quickActions.scanDescription': 'Disease Detection',
    'quickActions.voiceAsk': 'Ask by Voice',
    'quickActions.voiceDescription': 'Voice Assistant',
    'quickActions.expertChat': 'Expert Chat',
    'quickActions.expertDescription': 'Get instant advice',
    'quickActions.weather': 'Weather Info',
    'quickActions.weatherDescription': "Today's forecast",
    'quickActions.agriCreds': 'AgriCreds',
    'quickActions.earnMore': 'Earn more by contributing to the community!',
    
    // Weather
    'weather.today': "Today's Weather",
    'weather.humidity': 'Humidity',
    'weather.wind': 'Wind',
    'weather.uvIndex': 'UV Index',
    'weather.rainChance': 'Rain Chance',
    
    // Crop Recommendations
    'crops.recommendations': 'Crop Recommendations',
    'crops.season': 'Season',
    'crops.profitability': 'Profitability',
    'crops.high': 'High',
    'crops.medium': 'Medium',
    'crops.low': 'Low',
    'crops.yield': 'Yield',
    'crops.sowing': 'Sowing',
    'crops.marketRate': 'Market Rate',
    'crops.viewDetails': 'View Details',
    'crops.alerts': 'Alerts',
    
    // Crops
    'crops.tomato': 'Tomato',
    'crops.wheat': 'Wheat',
    'crops.season.rabi': 'Rabi',
    'crops.season.kharif': 'Kharif',
    'crops.profitability.high': 'High',
    'crops.profitability.medium': 'Medium',
    'crops.profitability.low': 'Low',
    'crops.yield.ton_per_hectare': 'ton/hectare',
    'crops.yield.qtl_per_hectare': 'quintal/hectare',
    'crops.market_unit.kg': 'kg',
    'crops.market_unit.qtl': 'quintal',
    'crops.sowing.oct_nov': 'October-November',
    'crops.sowing.nov_dec': 'November-December',
    // Alerts
    'alerts.tomato_pest': 'ЁЯРЫ Pest alert in tomato - treat immediately',
    'alerts.irrigation_needed': 'ЁЯТз Irrigation needed - soil moisture is low',
    
    // Disease Detection
    'disease.title': 'Scan Crop',
    'disease.uploadPhoto': 'Upload Crop Photo',
    'disease.uploadDescription': 'Take clear photos of leaves, flowers, or fruits',
    'disease.gallery': 'Choose from Gallery',
    'disease.camera': 'Open Camera',
    'disease.uploadedPhoto': 'Uploaded Photo',
    'disease.startAnalysis': 'Start AI Analysis',
    'disease.analyzing': 'AI analysis in progress...',
    'disease.pleaseWait': 'Please wait',
    'disease.confidence': 'Confidence',
    'disease.severity': 'Severity',
    'disease.immediateActions': 'Immediate Actions',
    'disease.futurePrevention': 'Future Prevention',
    'disease.contactExpert': 'Contact Expert',
    'disease.buyMedicine': 'Buy Medicine',
    'disease.tips': 'Tips for better results',
    'disease.tip1': 'Take photos in natural light',
    'disease.tip2': 'Focus closely on the leaf',
    'disease.tip3': 'Take clear and sharp photos',
    'disease.tip4': 'Take photos from multiple angles',
    
    // Chat
    'chat.title': 'AI Chat Assistant',
    'chat.expertBanner': 'Need expert advice?',
    'chat.expertSubtitle': 'Talk to certified agricultural experts',
    'chat.call': 'Call',
    'chat.availableExperts': 'Available Experts',
    'chat.chat': 'Chat',
    'chat.nextAvailable': 'Next Available',
    'chat.voiceListening': 'Listening...',
    'chat.speakQuestion': 'Speak your question',
    'chat.writeQuestion': 'Write your question...',
    'chat.commonQuestions': 'Common Questions',
    'chat.weatherInfo': 'Weather Information',
    'chat.fertilizerAmount': 'Fertilizer Amount',
    'chat.seedTreatment': 'Seed Treatment',
    'chat.irrigationTime': 'Irrigation Time',
    'chat.placeholder': 'Type your message...',
    'chat.typing': 'Typing...',
    'chat.clear': 'Clear',
    'chat.cleared': 'Chat Cleared',
    'chat.startNewConversation': 'Start a new conversation',
    'chat.responseReceived': 'Response Received',
    'chat.usingRealData': 'Using real agricultural data',
    'chat.usingMockData': 'Using mock data',
    'chat.apiError': 'API Error',
    'chat.error': 'Failed to get response',
    
    // Community
    'community.title': 'Community Forum',
    'community.searchPosts': 'Search posts...',
    'community.post': 'Post',
    'community.newPost': 'Write New Post',
    'community.category': 'Category',
    'community.writeQuestion': 'Write your question or suggestion...',
    'community.addPhoto': 'Add Photo',
    'community.postNow': 'Post Now',
    'community.share': 'Share',
    'community.problem': 'Problem',
    'community.tips': 'Tips',
    'community.experience': 'Experience',
    'community.market': 'Market',
    
    // Community categories
    'community.category.problem': 'Problem',
    'community.category.tips': 'Tips',
    'community.category.experience': 'Experience',
    'community.category.market': 'Market',
    
    // Profile
    'profile.title': 'My Profile',
    'profile.farmingInfo': 'Farming Information',
    'profile.landSize': 'Land Size',
    'profile.experience': 'Experience',
    'profile.memberSince': 'Member Since',
    'profile.language': 'Language',
    'profile.mainCrops': 'Main Crops',
    'profile.activityStats': 'Activity Statistics',
    'profile.postsShared': 'Posts Shared',
    'profile.helpfulAnswers': 'Helpful Answers',
    'profile.questionsAsked': 'Questions Asked',
    'profile.creditsEarned': 'Credits Earned',
    'profile.achievements': 'Achievements',
    'profile.settings': 'Settings',
    'profile.changeLanguage': 'Change Language',
    'profile.redeemCredits': 'Redeem AgriCreds',
    'profile.insufficientCredits': 'Insufficient Credits',
    'profile.need50Credits': 'You need at least 50 AgriCreds to chat with experts',
    'profile.expertChatStarted': 'Expert Chat Started',
    'profile.redirectingToExpert': 'Redirecting to expert consultation...',
    'profile.credits': 'Credits',
    'profile.noAchievements': 'No achievements yet',
    'profile.keepParticipating': 'Keep participating to earn achievements!',
    
    // Expert Consultation
    'expert.title': 'Expert Consultation',
    'expert.availableExperts': 'Available Experts',
    'expert.selectExpert': 'Select an expert to start consultation (50 AgriCreds per session)',
    'expert.online': 'Online',
    'expert.offline': 'Offline',
    'expert.connect': 'Connect',
    'expert.connecting': 'Connecting...',
    'expert.connected': 'Connected',
    'expert.sessionStarted': 'Expert consultation session started',
    'expert.connectionFailed': 'Connection Failed',
    'expert.tryAgain': 'Please try again',
    'expert.disconnect': 'Disconnect',
    'expert.disconnected': 'Disconnected',
    'expert.sessionEnded': 'Expert consultation session ended',
    'expert.sessionTime': 'Session',
    'expert.typing': 'Expert is typing...',
    'expert.typeMessage': 'Type your message...',
    'expert.loginRequired': 'Login Required',
    'expert.pleaseLogin': 'Please login to chat with experts',
    
    // Common
    'common.now': 'Now',
    'common.view': 'View',
    'common.edit': 'Edit',
    'common.delete': 'Delete',
    'common.save': 'Save',
    'common.cancel': 'Cancel',
    'common.ok': 'OK',
    'common.yes': 'Yes',
    'common.no': 'No',
    'common.loading': 'Loading...',
    'common.error': 'Error',
    'common.success': 'Success',
    'common.warning': 'Warning',
    'common.info': 'Info',
  }
};

const LANGUAGE_STORAGE_KEY = 'anna-mitra-language';

export const LanguageProvider: React.FC<{ children: ReactNode }> = ({ children }) => {
  const [language, setLanguageState] = useState<Language>('hindi');

  // On mount, read language from localStorage
  useEffect(() => {
    const stored = localStorage.getItem(LANGUAGE_STORAGE_KEY);
    if (stored === 'hindi' || stored === 'english') {
      setLanguageState(stored);
    }
  }, []);

  // When language changes, persist to localStorage
  const setLanguage = (lang: Language) => {
    setLanguageState(lang);
    localStorage.setItem(LANGUAGE_STORAGE_KEY, lang);
  };

  const t = (key: string): string => {
    return translations[language][key] || key;
  };

  return (
    <LanguageContext.Provider value={{ language, setLanguage, t }}>
      {children}
    </LanguageContext.Provider>
  );
};

export const useLanguage = (): LanguageContextType => {
  const context = useContext(LanguageContext);
  if (context === undefined) {
    throw new Error('useLanguage must be used within a LanguageProvider');
  }
  return context;
}; 